\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}

\section{Code}

\begin{lstlisting}[language=Python]
    from PIL import Image

    im = Image.open("stego.png")

    width, height = im.size

    px = im.load()

    print(width, height)
    bitBin = ""
    for x in range(height):
        for y in range(width):
            bitBin += bin(px[y, x][2])[-1]


    n = 8
    output = [bitBin[i:i+n][::-1] for i in range(0, len(bitBin), n)]


    msg = ""
    for a in output:
        if a != '00000000':
            msg += chr(int(a, 2))
        else:
            break

    print(msg)
    
\end{lstlisting}